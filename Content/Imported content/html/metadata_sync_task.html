<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
      
   <title>28.2.&#160;Metadata Sync Task</title><link rel="stylesheet" type="text/css" href="../Resources/docbook_bsd.css" /><link rel="home" href="../Resources/dhis2_user_manual_en.html" title="DHIS2 User guide" /><link rel="up" href="../Resources/metadata_sync.html" title="Chapter&#160;28.&#160;Synchronizing metadata" /><link rel="prev" href="../Resources/concept.html" title="28.1.&#160;About metadata synchronization" /><link rel="next" href="../Resources/authorities_to_sync_and_create_versioned_metadata.html" title="28.3.&#160;Authorities to sync and create versioned metadata" /></head>
    <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
        <div class="navheader">
            <table width="100%" summary="Navigation header">
                <tr>
                    <th colspan="3" align="center">28.2.&#160;Metadata Sync Task</th>
                </tr>
                <tr>
                    <td width="20%" align="left">
                        <a accesskey="p" href="concept.html">Prev</a>&#160;</td>
                    <th width="60%" align="center">Chapter&#160;28.&#160;Synchronizing
 metadata</th>
                    <td width="20%" align="right">&#160;<a accesskey="n" href="authorities_to_sync_and_create_versioned_metadata.html">Next</a></td>
                </tr>
            </table>
            <hr />
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h2 class="title" style="clear: both;">
                            <a name="metadata_sync_task">
                            </a>28.2.&#160;Metadata Sync Task</h2>
                    </div>
                </div>
            </div>
            <p>The process which does Metadata Synchronization is referred as Metadata Sync Task. This task performs a
 series of steps before syncing of metadata</p>
            <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc;">
                    <li class="listitem">
                        <p>Data push (aggregate data and anonymous events data) from local instance to central instance.</p>
                    </li>
                    <li class="listitem">
                        <p>Gets the current metadata version of the local instance. Then uses this version information as a
 baseline to fetch the list of metadata versions created after the baseline.</p>
                    </li>
                    <li class="listitem">
                        <p>If there are new versions created at central instance, it performs the sync of metadata versions one
 after the other. A mail will be sent to the configured user (see <a class="xref" href="configure_local_instance.html" title="28.5.&#160;Configure Local Instance">Section&#160;28.5, “Configure Local Instance”</a>)
 after each successful sync of metadata version at the local instance.</p>
                        <p>This task is scheduled using the Data Administration app.</p>
                    </li>
                    <li class="listitem">
                        <p>Go to Data Administration app &gt; Scheduling. Under Metadata Synchronization, set
 metadata synchronization strategy to Enabled, and then select appropriate time/ time
 period for scheduling and click Start. Alternatively, metadata can be synced instantly
 from one system to another using the "Sync Now" button. For this,
 scheduling
 is not required.</p>
                    </li>
                </ul>
            </div>
            <p>Once this task is run at the scheduled time, this task has the ability to retry (if any of the steps fail)
 based on the configuration of below parameters as defined in dhis.conf file.</p>
            <p>ex:</p>
            <p>metadata.sync.retry = 5</p>
            <p>metadata.sync.retry.time.frequency.millisec = 10000</p>
            <p>If no values are specified then the default values are</p>
            <p>metadata.sync.retry = 3</p>
            <p>metadata.sync.retry.time.frequency.millisec = 30000</p>
            <p>Each retry will be made after the time (in millisecond) as specified. If the steps still
 fail even after all the retries, then the scheduler stops its execution and then a mail will
 be sent to the configured user (see <a class="xref" href="configure_local_instance.html" title="28.5.&#160;Configure Local Instance">Section&#160;28.5, “Configure Local Instance”</a>)</p>
        </div>
        <div class="navfooter">
            <hr />
            <table width="100%" summary="Navigation footer">
                <tr>
                    <td width="40%" align="left">
                        <a accesskey="p" href="concept.html">Prev</a>&#160;</td>
                    <td width="20%" align="center">
                        <a accesskey="u" href="metadata_sync.html">Up</a>
                    </td>
                    <td width="40%" align="right">&#160;<a accesskey="n" href="authorities_to_sync_and_create_versioned_metadata.html">Next</a></td>
                </tr>
                <tr>
                    <td width="40%" align="left" valign="top">28.1.&#160;About metadata synchronization&#160;</td>
                    <td width="20%" align="center">
                        <a accesskey="h" href="dhis2_user_manual_en.html">Home</a>
                    </td>
                    <td width="40%" align="right" valign="top">&#160;28.3.&#160;Authorities to sync and create versioned metadata</td>
                </tr>
            </table>
        </div>
    </body>
</html>