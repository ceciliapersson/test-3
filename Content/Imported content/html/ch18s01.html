<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
      
   <title>18.1.&#160;Meta-data import</title><link rel="stylesheet" type="text/css" href="../Resources/docbook_bsd.css" /><link rel="home" href="../Resources/dhis2_user_manual_en.html" title="DHIS2 User guide" /><link rel="up" href="../Resources/ch18.html" title="Chapter&#160;18.&#160;Import and export" /><link rel="prev" href="../Resources/ch18.html" title="Chapter&#160;18.&#160;Import and export" /><link rel="next" href="../Resources/import.html" title="18.2.&#160;Importing data" /></head>
    <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
        <div class="navheader">
            <table width="100%" summary="Navigation header">
                <tr>
                    <th colspan="3" align="center">18.1.&#160;Meta-data import</th>
                </tr>
                <tr>
                    <td width="20%" align="left">
                        <a accesskey="p" href="ch18.html">Prev</a>&#160;</td>
                    <th width="60%" align="center">Chapter&#160;18.&#160;Import and export</th>
                    <td width="20%" align="right">&#160;<a accesskey="n" href="import.html">Next</a></td>
                </tr>
            </table>
            <hr />
        </div>
        <div class="section">
            <div class="titlepage">
                <div>
                    <div>
                        <h2 class="title" style="clear: both;">
                            <a name="d0e20269">
                            </a>18.1.&#160;Meta-data import</h2>
                    </div>
                </div>
            </div>
            <div class="toc">
                <dl class="toc">
                    <dt>
                        <span class="section">
                            <a href="ch18s01.html#d0e20272">18.1.1. Meta-data import</a>
                        </span>
                    </dt>
                    <dd>
                        <dl>
                            <dt>
                                <span class="section">
                                    <a href="ch18s01.html#d0e20297">18.1.1.1. Dry run before importing</a>
                                </span>
                            </dt>
                            <dt>
                                <span class="section">
                                    <a href="ch18s01.html#d0e20328">18.1.1.2. Matching identifiers in DXF2</a>
                                </span>
                            </dt>
                        </dl>
                    </dd>
                    <dt>
                        <span class="section">
                            <a href="ch18s01.html#d0e20333">18.1.2. Importing CSV meta-data</a>
                        </span>
                    </dt>
                    <dt>
                        <span class="section">
                            <a href="ch18s01.html#d0e20338">18.1.3. GML data import</a>
                        </span>
                    </dt>
                </dl>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h3 class="title">
                                <a name="d0e20272">
                                </a>18.1.1.&#160;Meta-data import</h3>
                        </div>
                    </div>
                </div>
                <p>Meta-data objects can be easily imported by accessing Import-Export-&gt;Meta-Data import. Select the file to import by pressing "Select" and choose the file from your local file system. When importing XML and JSON files, the system will automatically detect which type of objects which should be imported. When importing CSV metadata, you will need to specify the object type. Consult the corresponding section in this manual on "CSV Metadata import" for more specific information on how the CSV file should be created.  </p>
                <div class="screenshot">
                    <p class="title">
                        <b>Default import screen</b>
                    </p>
                    <div class="mediaobject" align="center">
                        <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0;cellspacing: 0;" width="80%">
                            <tr>
                                <td align="center">
                                    <img src="../Resources/import_default.png" align="middle" width="100%" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <p>There are two separate options for importing data. </p>
                <div class="itemizedlist">
                    <ul class="itemizedlist" style="list-style-type: disc;">
                        <li class="listitem">
                            <p>Dry run: This is similar to the old preview option, this will do a dry run import,
 and give you information about any errors.</p>
                        </li>
                        <li class="listitem">
                            <p>Strategy: There are three options here, "New and Updates", "New only", and "Update
 only". New and updates tells the importer to expect both new meta-data, and updates to
 existing ones. New only will only accept fresh meta-data, usually you would use this on a
 empty database. Updates only will only allow the meta-data to match meta-data that is
 already there (same identifiers, new name etc).</p>
                        </li>
                    </ul>
                </div>
                <div class="note" style="margin-left: 0.5in;margin-right: 0.5in;">
                    <table border="0" summary="Note">
                        <tr>
                            <td rowspan="2" align="center" valign="top" width="25">
                                <img alt="[Note]" src="../Resources/note.png" />
                            </td>
                            <th align="left">Note</th>
                        </tr>
                        <tr>
                            <td align="left" valign="top">
                                <p>
                                    <span class="bold">
                                        <strong>It is highly recommend always using the Dry run option</strong>
                                    </span> when importing data to make sure you keep control over any changes
 to your meta-data and databases being out of synch on data elements or organisation unit names</p>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="section">
                    <div class="titlepage">
                        <div>
                            <div>
                                <h4 class="title">
                                    <a name="d0e20297">
                                    </a>18.1.1.1.&#160;Dry run before importing</h4>
                            </div>
                        </div>
                    </div>
                    <p>Before doing the import into your database, it is highly recommended that you run the
 import with the dry run option set to true first. This will enabled you to have a look at
 how many new, updates, and ignored meta-data there will be. After you have selected your
 file, set dry run to true, you can now click the import button. After doing this, you will
 be greeted by this window.</p>
                    <div class="mediaobject" align="center">
                        <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0;cellspacing: 0;" width="80%">
                            <tr>
                                <td align="center">
                                    <img src="../Resources/display_import_summary.png" align="middle" width="100%" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <p>Here you can see a short summary of what was contained in your import file. To see
 further details, please click on the "Display import summary" link.</p>
                    <div class="mediaobject" align="center">
                        <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0;cellspacing: 0;" width="80%">
                            <tr>
                                <td align="center">
                                    <img src="../Resources/import_summary.png" align="middle" width="100%" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <p>Here you can see that the import dry run was successful and the import contained
            <span class="bold"><strong>1</strong></span> new organisation unit, <span class="bold"><strong>1332</strong></span> updated, and <span class="bold"><strong>4</strong></span> organisation unit
 levels.</p>
                    <p>Below you can see another example.</p>
                    <div class="mediaobject" align="center">
                        <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0;cellspacing: 0;" width="80%">
                            <tr>
                                <td align="center">
                                    <img src="../Resources/import_summary_conflicts.png" align="middle" width="100%" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <p>Here you can see that the organisation unit "Nduvuibu MCHP" had a unknown reference to
 an object with ID "aaaU6Kr7Gtpidn", which means that an object with this ID was not
 present in your imported file, and it could not be found in the existing database. Its
 important to note that even if a reference could not be found, the object will still be
 imported, but you might have to fix this directly in DHIS2 later, if the reference should
 have pointed to something else.</p>
                </div>
                <div class="section">
                    <div class="titlepage">
                        <div>
                            <div>
                                <h4 class="title">
                                    <a name="d0e20328">
                                    </a>18.1.1.2.&#160;Matching identifiers in DXF2</h4>
                            </div>
                        </div>
                    </div>
                    <p>The DXF2 format currently support matching for two identifiers, the internal DHIS2 identifier (known as a UID), and also using an external identifier called called a "code". When the importer is trying to search for
 references (like the one above), it will first go to the UID field, and then to the code
 field. This allows you to import from legacy systems without having a UID for every meta-data
 object. I.e. if you are importing facility data from a legacy system, you can leave out the
 ID field completely (DHIS2 will fill this in for you) and the put the legacy systems own
 identifiers in the code field, this identifier is required to be unique. This not only works
 for organisation units, but for all kinds of meta-data, allowing for easy import from other
 systems.</p>
                </div>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h3 class="title">
                                <a name="d0e20333">
                                </a>18.1.2.&#160;Importing CSV meta-data</h3>
                        </div>
                    </div>
                </div>
                <p>To import CV meta-data go to import-export module and select CSV Meta-Data Import form
 the left side menu. You must select the object type which your CSV file contains. You can
 only upload one type of objects at the time. Upload your file and click update. For the CSV
 format, please visit the Web API chapter &gt; CSV meta-data import in the developer
 guide.</p>
            </div>
            <div class="section">
                <div class="titlepage">
                    <div>
                        <div>
                            <h3 class="title">
                                <a name="d0e20338">
                                </a>18.1.3.&#160;GML data import</h3>
                        </div>
                    </div>
                </div>
                <p>The GML import function can be used to import data prepared in the Geography Markup Language (GML). GML can be used to update the coordinates (both polygons and points). Once you have prepared your GML file as detailed in the chapter on "Importing coordinates", you can load the file with this function. </p>
                <p>Importing the organisation unit hierarchy from GML is not supported. Therefore you
 should create the organisation unit hierarchy separately, and then use GML to update the
 coordinates once the hierarchy has been created. </p>
            </div>
        </div>
        <div class="navfooter">
            <hr />
            <table width="100%" summary="Navigation footer">
                <tr>
                    <td width="40%" align="left">
                        <a accesskey="p" href="ch18.html">Prev</a>&#160;</td>
                    <td width="20%" align="center">
                        <a accesskey="u" href="ch18.html">Up</a>
                    </td>
                    <td width="40%" align="right">&#160;<a accesskey="n" href="import.html">Next</a></td>
                </tr>
                <tr>
                    <td width="40%" align="left" valign="top">Chapter&#160;18.&#160;Import and export&#160;</td>
                    <td width="20%" align="center">
                        <a accesskey="h" href="dhis2_user_manual_en.html">Home</a>
                    </td>
                    <td width="40%" align="right" valign="top">&#160;18.2.&#160;Importing data</td>
                </tr>
            </table>
        </div>
    </body>
</html>